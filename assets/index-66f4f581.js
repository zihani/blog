import{k as M,p as L,H as C,d as N,a as q,r as n,w as B,o as E,e as s,f as d,g as y,i as u,j as r,n as p,q as j,F as z,l as F,m as f,h as v,t as A,_ as H,s as w,v as D,x as J,y as O}from"./index-3f876909.js";import{r as G}from"./rain-46655f95.js";async function K(g){return await M.get(`/md/${g.fileName}`).then(e=>{if(e.data){const t=new L.Renderer;return t.code=(l,o)=>{const c=C.getLanguage(o)?o:"plaintext",a=C.highlight(l,{language:c}).value;return`<pre><code class="hljs ${o}">${a}</code></pre>`},L.setOptions({renderer:t,highlight:(l,o)=>{const c=C.getLanguage(o)?o:"plaintext";return C.highlight(l,{language:c}).value},gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}),L(e.data)}})}const P=N({__name:"Catalog",props:{titles:Array},emits:["emit"],setup(g,{emit:e}){const t=q(),l=n(t[t.backgroundColor]),o=n(t.backgroundColor==="dark"?t.white:t.dark);B(()=>t.backgroundColor,(_,i)=>{l.value=t[t.backgroundColor],o.value=t.backgroundColor==="dark"?t.white:t.dark},{deep:!0}),n(),n({name:n(""),fileName:n("")});const c=g,a=n(null);n(null),window.addEventListener("scroll",function(){var _=document.documentElement.scrollTop||document.body.scrollTop;_>388?(a.value.style.position="fixed",a.value.style.top="0",a.value.style.width="300px"):(a.value.style.position="",a.value.style.top="")});const k=_=>{let i=document.createElement("a");i.href="#"+_,i.click()};return E(()=>{}),(_,i)=>{const x=s("message"),h=s("el-icon"),m=s("el-menu-item"),$=s("el-menu-item-group"),b=s("el-sub-menu"),T=s("el-menu"),V=s("el-scrollbar"),R=s("el-aside");return d(),y("div",{class:"Catalog",style:p(`background-color:${l.value}; color:${o.value};`),ref_key:"catalogref",ref:a},[u(R,{style:{width:"100%"},ref:"scrollbar"},{default:r(()=>[u(V,null,{default:r(()=>[u(T,{"default-openeds":["1","3"],style:p(`background-color:${l.value}; color:${o.value};`)},{default:r(()=>[u(b,{index:"1",style:p(`overflow-y: scroll; height: 70vh;background-color:${l.value}; color:${o.value};`)},{title:r(()=>[u(h,null,{default:r(()=>[u(x)]),_:1}),j("目录 ")]),default:r(()=>[u($,{style:p(`background-color:${l.value}; color:${o.value};`)},{default:r(()=>[(d(!0),y(z,null,F(c.titles,(S,I)=>(d(),f(m,{key:I,onClick:le=>k(S),style:p(`color:${o.value};`)},{default:r(()=>[v("strong",null,A(S),1)]),_:2},1032,["onClick","style"]))),128))]),_:1},8,["style"])]),_:1},8,["style"])]),_:1},8,["style"])]),_:1})]),_:1},512)],4)}}});const Q=H(P,[["__scopeId","data-v-53821be6"]]),U={class:"Content"},W=["innerHTML"],X=N({__name:"Content",props:{html:String},setup(g){const e=q(),t=n(e[e.backgroundColor]),l=n(e.backgroundColor==="dark"?e.white:e.dark),o=g;B(()=>e.backgroundColor,(a,k)=>{t.value=e[e.backgroundColor],l.value=e.backgroundColor==="dark"?e.white:e.dark},{deep:!0});const c=o.html;return E(()=>{}),(a,k)=>{const _=s("el-skeleton");return d(),y("div",U,[w(c)?(d(),y("div",{key:0,style:p(`background-color:${t.value}; color:${l.value};`),innerHTML:w(c)},null,12,W)):(d(),f(_,{key:1,rows:100,animated:""}))])}}});const Y=H(X,[["__scopeId","data-v-73f9114a"]]),Z={class:"Articles"},ee={style:{width:"100%"}},te={class:"catalog"},oe={class:"content"},ne=N({__name:"index",setup(g){const e=q(),t=n(e[e.backgroundColor]),l=n(e.backgroundColor==="dark"?e.white:e.dark),o=D(),c=n(),a=J({name:n(""),fileName:n("")}),k=n(""),_=n(null);B(()=>e.backgroundColor,(h,m)=>{t.value=e[e.backgroundColor],l.value=e.backgroundColor==="dark"?e.white:e.dark},{deep:!0});let i=n([]);const x=function(){K(a).then(h=>{c.value=h,setTimeout(function(){_.value.querySelectorAll("h2").forEach(m=>{m.id=m.innerText,i.value.push(m.innerText)})},1e3)})};return E(()=>{o.query.name&&(k.value=o.query.name,a.name=o.query.name,a.fileName=o.query.fileName,x())}),(h,m)=>{const $=s("el-skeleton"),b=s("el-col"),T=s("el-row"),V=s("el-container");return d(),y("div",Z,[v("div",ee,[u(G)]),u(V,{style:p(`background-color:${t.value};color:${l.value};width:100%;`)},{default:r(()=>[u(T,{style:{width:"100%"}},{default:r(()=>[u(b,{span:6,xs:0},{default:r(()=>[v("div",te,[w(i).length>0?(d(),f(Q,{key:0,titles:w(i)},null,8,["titles"])):(d(),f($,{key:1,rows:100,animated:""}))])]),_:1}),u(b,{span:18,xs:24},{default:r(()=>[v("div",oe,[v("h1",null,A(k.value),1)]),v("div",{class:"content-html",ref_key:"contentRef",ref:_},[c.value?(d(),f(Y,{key:0,html:c.value},null,8,["html"])):O("",!0)],512)]),_:1})]),_:1})]),_:1},8,["style"])])}}});const ce=H(ne,[["__scopeId","data-v-538bbc35"]]);export{ce as default};
